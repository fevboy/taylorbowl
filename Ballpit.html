<!DOCTYPE html>
<html>

<head>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    
    <title>
        Ballpit
    </title>

    <link 
    rel="icon" 
    href="Logos/TaylorBowl Logo.svg" 
    type="image/icon type">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="Styles.css">

</head>

<body>

<div
class="page-header">

    <a
    class="taylorbowl-logo"
    id="js-taylorbowl-logo"
    href="https://taylorbowl.wiki/">
    <img
    src="Logos/TaylorBowl Logo.svg"
    class="taylorbowl-logo-image">
    <span
    class="taylorbowl-logo-text">
        TAYLORBOWL WIKI
    </span>
    </a>

    <button
    class="lg-theme-button"
    id="js-lg-theme-button"
    onclick="toggleTheme()">
    <img
    class="theme-logo"
    id="js-theme-logo"
    src="Logos/Theme Logo Dark.svg">
    </button>

    <button
    class="lg-open-search-button"
    id="js-lg-open-search-button"
    onclick="openSearch()">
    <img 
    class="search-logo" 
    id="js-search-logo"
    src="Logos/Search Logo Dark.svg">
    </button>

    <input 
    class="lg-search-input"
    id="js-lg-search-input"
    type="search"
    placeholder="Search pages..."
    onkeydown="processQuery()"
    onfocusout="closeSearch()">

    <button
    class="lg-enter-search-button"
    id="js-lg-enter-search-button"
    onmousedown="redirect()">
    <img 
    class="search-logo" 
    id="js-new-search-logo"
    src="Logos/Search Logo Dark.svg">
    </button>

    <button
    class="open-menu-button"
    id="js-open-menu-button"
    onclick="openMenu()">
    <img
    class="menu-logo"
    id="js-menu-logo"
    src="Logos/Menu Logo Dark.svg">
    </button>

</div>

</div>

<div 
class="page-cover-kofi" 
id="js-page-cover-kofi"
onclick="closeAdvertisement()"></div>

<div
class="kofi"
id="js-kofi">
<div
class="kofi-text">
Enjoying the Wiki? This Wiki is created and funded solely by one person. If you find it helpful, feel free to support me via my <a class="text-actionable-link" href="https://ko-fi.com/evinine">Kofi</a>!
</div>
<div
class="escape-text">
Click anywhere or press Escape to close.
</div>
</div>
    
<div 
class="page-cover" 
id="js-page-cover"
onclick="closeMenu()"></div>
<div
class="menu"
id="js-menu">

<button
class="menu-button"
id="js-close-menu-button"
onclick="closeMenu()">
<img
class="close-menu-logo"
id="js-close-menu-logo"
src="Logos/Close Menu Logo Dark.svg">
Close Menu
</button>

<button
class="menu-button"
onclick="toggleTheme()">
<img
class="menu-theme-logo"
id="js-menu-theme-logo"
src="Logos/Theme Logo Dark.svg">
<span id="js-mode-text">Light Mode</span>
</button>

<button
class="menu-button"
onclick="window.location.href = `https://taylorbowl.wiki/search`">
<img
class="menu-search-logo"
id="js-menu-search-logo"
src="Logos/Search Logo Dark.svg">
Search Pages
</button>

<hr
class="menu-line">

<div
class="contents-list">
    <div
    class="contents-list-title">
        Table of Contents
    </div>
    <div>
        1 &emsp; <a class="text-actionable-link" href="https://taylorbowl.wiki/Ballpit#Mechanics"> Mechanics <br> </a>
    </div>
    <div>
        2 &emsp; <a class="text-actionable-link" href="https://taylorbowl.wiki/Ballpit#Balls"> Balls <br> </a>
    </div>
    <div>
        3 &emsp; <a class="text-actionable-link" href="https://taylorbowl.wiki/Ballpit#Calculations"> Calculations <br> </a>
    </div>
    <div>
        4 &emsp; <a class="text-actionable-link" href="https://taylorbowl.wiki/Ballpit#Glossary"> Glossary <br> </a>
    </div>
    <div>
        &emsp; &ensp; 4.1 &emsp; <a class="text-actionable-link" href="https://taylorbowl.wiki/Ballpit#Glossary#List_of_Commands"> List of Commands <br> </a>
    </div>
    <div>
        &emsp; &ensp; 4.2 &emsp; <a class="text-actionable-link" href="https://taylorbowl.wiki/Ballpit#Glossary#List_of_Formulae"> List of Formulae <br> </a>
    </div>
</div>

</div>

<div
class="page-title">
Ballpit
</div>
<hr
class="page-title-line">

<div
class="disclaimer">
This page is under construction. We are currently looking for images to add to it. Please DM ev on Discord if you have any images that may be worthwhile. Thank you!
</div>

<div
class="content"
id="js-page-summary">
Ballpit is a probability-based minigame. 100 balls of assorted colours are randomly arranged, and players may bet <a class="text-actionable-link" href="https://taylorbowl.wiki/Credits" data-tippy-content="Credits form the basis of the TaylorBowl economy. They are the most accessible and commonly used currency.">credits</a> on the colour of the first few balls using the command <span class="command-text">!ballpit amount choices</span>. For example, <span class="command-text">!ballpit 100 brown</span> bets 100 credits on the first ball being brown, and <span class="command-text">!ballpit 250 purple blue green</span> bets 250 credits on the first two balls being purple, blue, and green, in that order. 
<br> <br>
Depending on the how rare a combination is, players may earn more credits from their bet, with rarer combinations returning more credits. For example, winning the bet <span class="command-text">!ballpit 100 brown</span> awards 100 credits, while winning the bet <span class="command-text">!ballpit 100 black</span> awards 9900 credits. The returns are mostly fair; players are not expected to make profit or losses in the long run.
</div>


<button
class="toggler"
onclick="toggleContent(1)">
<img
class="toggler-image"
id="js-toggler-1"
src="Logos/Mobile Toggler Dark.svg">
<div
class="section-title"
id="Mechanics">
Mechanics
</div>
</button>

<hr
class="section-title-line">

<div
class="toggle-content"
id="js-toggle-content-1">

<div
class="content">
Users may play Ballpit using the command <span class="command-text">ballpit amount choices</span>. The <span class="command-text">amount</span> parameter refers to how many credits are bet, and the <span class="command-text">choices</span> parameter refers to the colour of the balls betted on. Users may bet on up to 10 balls, with each colour separated by a space. For example, <span class="command-text">!ballpit 100 brown</span> bets 100 credits on the first ball being brown, and <span class="command-text">!ballpit 250 purple blue green</span> bets 250 credits on the first two balls being purple, blue, and green, in that order. Sending the command will start a Ballpit, which starts a 30 second period for others to bet too. At the end of the 30 seconds, the balls are randomised and sent. If a player's bet is correct, they are awarded credits based on how probable the combination is. The less probable, the higher the awarded credits. If not, all credits bet are lost.
<br> <br>
During the 30 second period, users may freely switch their bet by resending the <span class="command-text">!ballpit</span> command. However, users are not able to cancel their bet, andt he next best option that minimises losses is to send <span class="command-text">!ballpit 1 brown</span>. 
<br> <br>
If Ballpit breaks and a the result is not sent after 30 seconds, users may use the command <span class="command-text">!restartballpit</span> to reset it.
  
</div>

</div>

<button
class="toggler"
onclick="toggleContent(2)">
<img
class="toggler-image"
id="js-toggler-2"
src="Logos/Mobile Toggler Dark.svg">
<div
class="section-title"
id="Balls">
Balls
</div>
</button>

<hr
class="section-title-line">

<div
class="toggle-content"
id="js-toggle-content-2">

<div
class="content">
There are 50 brown balls, 14 purple balls, 10 blue balls, 9 green balls, 7 yellow balls, 4 orange balls, 3 red balls, 2 white balls, and 1 black ball. For betting on a single ball, the multiplier is 1× for brown, 6× for purple, 9× for blue, 10× for green, 13× for yellow, 24× for orange, 32× for red, 49× for white, and 99× for black. These are more or less the average number of Ballpits needed for the first ball to be the respective colour. Similarly, for bets of more than 1 ball, the multiplier increases based on how rare the combination is. 
<br> <br>
You may use the <a class="text-actionable-link" href="https://taylorbowl.wiki/Bots#EsteBot" data-tippy-content="EsteBot is a supporting bot for TaylorBowl developed to help users.">EsteBot</a> command <span class="command-text">/ballpit payout</span> to calculate the returns on a given combination and the chance of betting correctly on that combination. You may use the EsteBot command <span class="command-text">/ballpit random</span> to randomly generate a combination.
<br> <br>
While certain combinations are impossible, such as having two or more black balls, you are still able to bet on them. This is an intended feature.  
</div>

</div>

<button
class="toggler"
onclick="toggleContent(3)">
<img
class="toggler-image"
id="js-toggler-3"
src="Logos/Mobile Toggler Dark.svg">
<div
class="section-title"
id="Calculations">
Calculations
</div>
</button>

<hr
class="section-title-line">

<div
class="toggle-content"
id="js-toggle-content-3">

<div
class="content">
The number of credits earned if a bet is correct is always a whole number multiplier of the bet, given by the formula:
<div
class="formula">
    <p><span>$$\text{returns}=\text{bet}\cdot m$$</span></p>
</div>   
where the multiplier, \(m\), is given by:
<div
class="formula">
    <p><span>$$m=\biggl\lfloor\cfrac{1}{p}\biggr\rfloor-1$$</span></p>
</div>   
where \(p\) is the probability of the combination, given by:
<div
class="formula">
    <p><span>$$p=\prod_{i=1}^{c}\cfrac{n_{i}}{101-i}$$</span></p>
</div>
where \(c\) is the number of colours bet and \(n_{i}\) is the number of balls of the \(i\)th colour bet.
<br> <br>
In the long run, players are expected to lose credits to Ballpit as the expected value is slightly below 0. This is because the multiplier is always rounded down, so certain combinations will return less credits than is required to break even. The formula for expected value is given by:
<div
class="formula">
    <p><span>$$E(X)=mp-(1-p)=p\biggl\lfloor\cfrac{1}{p}\biggr\rfloor-1$$</span></p>
</div>   
where \(m\) is the multiplier and \(p\) is the probability of the combination. Note that \(p\biggl\lfloor\cfrac{1}{p}\biggr\rfloor\neq1\) for most bets, which is why the expected value of some combinations being less than 0. For example, purple has an expected value of below 0:
<div
class="formula">
    <p><span>$$E(\text{purple})=\cfrac{14}{100}\biggl\lfloor\cfrac{100}{14}\biggr\rfloor-1=-0.02$$</span></p>
</div>   
Generally, if the probability of a bet, \(p\), can be expressed in the form \(\cfrac{1}{k}\) where \(k\) is an integer, it will have an expected value of 0. Otherwise, it will have an expected value slightly less than 0.
</div>

</div>

<button
class="toggler"
onclick="toggleContent(4)">
<img
class="toggler-image"
id="js-toggler-4"
src="Logos/Mobile Toggler Dark.svg">
<div
class="section-title"
id="Glossary">
Glossary
</div>
</button>

<hr
class="section-title-line">

<div
class="toggle-content"
id="js-toggle-content-4">

<div
class="subsection-title"
id="Glossary#List_of_Commands">
List of Commands
</div>

<table>
    <thead>
        <th>Command</th>
        <th>Description</th>
    </thead>
    <tbody>
    <tr>
        <td><span class="command-text">!ballpit number colours</span></td>
        <td>Bets a specified number of credits on a specified combination of colours. <br> <span class="command-text">number</span> is a mandatory parameter that refers to the number of credits bet. <br> <span class="command-text">colours</span> is a mandatory parameter that refers to the combination bet on. Up to 10 colours can be bet, separated by a space. Omission causes any placed bets to be revoked, this is a bug.</td>
    </tr>
    </tbody>
</table>

<div
class="subsection-title"
id="Glossary#List_of_Formulae">
List of Formulae
</div>

<div
class="content">

<b>1.1</b> &ensp; Returns on a bet:
<div
class="formula">
    <p><span>$$\text{returns}=\text{bet}\cdot m$$</span></p>
</div>   
where \(m\) is the multiplier.
<br> <br>
<b>1.2</b> &ensp; Multiplier:
<div
class="formula">
    <p><span>$$m=\biggl\lfloor\cfrac{1}{p}\biggr\rfloor-1$$</span></p>
</div>   
where \(p\) is the probability of the combination.
<br> <br>
<b>1.3</b> &ensp; Probability of a combination:
<div
class="formula">
    <p><span>$$p=\prod_{i=1}^{c}\cfrac{n_{i}}{101-i}$$</span></p>
</div>
where \(c\) is the number of colours bet and \(n_{i}\) is the number of balls of the \(i\)th colour bet.
<br> <br>
<b>2</b> &ensp; Expected returns:
<div
class="formula">
    <p><span>$$E(X)=mp-(1-p)=p\biggl\lfloor\cfrac{1}{p}\biggr\rfloor-1$$</span></p>
</div>   
where \(m\) is the multiplier and \(p\) is the probability of the combination. 
<br> <br>
<b>3</b> &ensp; Condition for \(E(X)=0\):
<div
class="formula">
    <p><span>$$p\biggl\lfloor\cfrac{1}{p}\biggr\rfloor=1\quad\text{or}\quad p=\cfrac{1}{k},k\in\mathbb{Z}^{+}$$</span></p>
</div>   
</div>

</div>

<div
class="version-text">
    Updated for BowlBot Version 17.2.0
</div>

</body>

<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="Code.js"></script>

</html>


